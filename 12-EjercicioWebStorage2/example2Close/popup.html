<html>
	<head>
		<style>
			body {
				display: flex;
				justify-content: center;
				align-items: center;
				
			}
			.center {
				width: 350px;
				height: 200px;
			}
			
			#formulario2{
				padding: 50px;
				border:3px solid black;
			}
			
			input[type = "button"]{
				float: left;
			}
			
		</style>
		
		<script language="Javascript">
			function cerrarVentana(){
				for(var i = 0; i<4; i++) {
					var campo = "campo" + (i+1);
					localStorage.setItem(campo,document.getElementById(campo).value);
				}
				window.opener.location.href="index.html";
				self.close();
			}

		</script>

	</head>
	<body>
		<div class = "center">
		<form id="formulario2"> 
			Campo 1: <input type="text" id="campo1" /> <br>
			Campo 2: <input type="text" id="campo2" /> <br>
			Campo 3: <input type="text" id="campo3" /> <br>
			Campo 4: <input type="text" id="campo4" /> <br>
			<input type="button" value="Cerrar" OnClick="cerrarVentana()" />
		</form>
		</div>
		<script>
		
		var campos = [];
		function checkStorage(){
			if (typeof(Storage) !== "undefined") {
				for(var i = 0; i<4; i++) {
					var campo = "campo" + (i+1);
					if (localStorage.getItem(campo) === null) {
						campos[i] = document.getElementById(campo).value;
					}else{
						campos[i] = localStorage.getItem(campo);
						document.getElementById(campo).value = campos[i];
					}
				}
			} else {
				console.log("El navegador no soporta WebStorage");
			}
		}
		checkStorage();
		</script>

	</body>
</html>