<html>
<head>
	<style>
		body {
			display: flex;
			justify-content: center;
			align-items: center;
			
		}
		.center {
			width: 350px;
			height: 200px;
		}
		
		#formulario{
			padding: 50px;
			border:3px solid black;
			background-color: #E6E6FA;
		}
		
		input[type = "button"]{
			float: right;
		}
		
	</style>
	
    <script language="Javascript">
        function abrirVentana(){	
			
			var h = 200;
			var w = 350;
			var y = window.outerHeight/2 + window.screenY - (h/2);
			var x = window.outerWidth/2 + window.screenX - (w/2) - w;
		
			for(var i = 0; i<4; i++) {
				var campo = "campo" + (i+1);
				localStorage.setItem(campo,document.getElementById(campo).value);
			}
			
            url = "popup.html"
            ventana=window.open(url,'name','height=200,width=350' + ', top=' + y + ', left=' + x);
            if (window.focus) {ventana.focus()}
        }

    </script>

</head>
<body>

  
  </script>
	<div class = "center">
	<input type="button" OnClick="abrirVentana()" value="Abrir" />
		<form id="formulario"> 
			Campo 1: <input type="text" id="campo1" /> <br>
			Campo 2: <input type="text" id="campo2" /> <br>
			Campo 3: <input type="text" id="campo3" /> <br>
			Campo 4: <input type="text" id="campo4" /> <br>
		</form>
	</div>
	
    <script>
	var campos = [];
	function checkStorage(){
		if (typeof(Storage) !== "undefined") {
			for(var i = 0; i<4; i++) {
				var campo = "campo" + (i+1);
				if (localStorage.getItem(campo) === null) {
					campos[i] = document.getElementById(campo).value;
				}else{
					campos[i] = localStorage.getItem(campo);
					document.getElementById(campo).value = campos[i];
				}
			}
		} else {
			console.log("El navegador no soporta WebStorage");
		}
	}
	checkStorage();
    </script>

</body>
</html>